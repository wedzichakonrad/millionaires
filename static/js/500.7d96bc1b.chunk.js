/*! For license information please see 500.7d96bc1b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmillionaires=self.webpackChunkmillionaires||[]).push([[500],{891:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ne}});var r=n(791),i=n(610),o=function(){var e=(0,r.useContext)(i.G);if(!e)throw Error("Game Context is not defined");return e},s=n(327),a=function(e){var t=e.soundSrc,n=o().isSoundOn,i=new Audio(t),a=(0,r.useRef)(i).current;return{play:function(){n&&a&&(a.volume=s.v.gameRules.effectsVolume,a.currentTime=0,null===a||void 0===a||a.play())}}},c=n.p+"static/media/button-hover.213f75df33019b911b17.mp3",u=n.p+"static/media/button.f1dc105e070a7ff9246d.mp3",l=n(184),d=function(e){var t=e.onClick,n=e.className,r=void 0===n?"":n,i=e.children,o=e.tabIndex,s=e.disabled,d=a({soundSrc:u}).play,f=a({soundSrc:c}).play,h=s?void 0:f;return(0,l.jsx)("button",{className:"button ".concat(r),tabIndex:o,onMouseEnter:h,onFocus:h,onClick:function(){s||(d(),t())},children:i})};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function v(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(198),y=function(e){var t=e.children,n=e.isOpen,r=e.type,i=(0,x.l)();return n?(0,l.jsxs)("div",{className:"notification ".concat(n?"notification--active":""),children:[(0,l.jsx)("div",{className:"notification__children-wrapper",children:t}),(0,l.jsx)("div",{className:"notification__backdrop",onClick:function(){null!==i&&void 0!==i&&i.setNotificationStates&&i.setNotificationStates((function(e){return p(p({},e),{},v({},r,p(p({},e[r]),{},{isOpen:!1})))}))}})]}):(0,l.jsx)(l.Fragment,{})},g=function(){var e=o(),t=e.restartGame,n=e.isOver,r=e.openMenu;return(0,l.jsx)(y,{isOpen:n,type:"GAME_OVER",children:(0,l.jsxs)("div",{className:"game-over-notification",children:[(0,l.jsx)("p",{className:"game-over-notification__message",children:"Wrong! Game Over!"}),(0,l.jsxs)("div",{className:"game-over-notification__buttons-wrapper",children:[(0,l.jsx)(d,{onClick:t,children:"Restart"}),(0,l.jsx)(d,{onClick:r,children:"Back to menu"})]})]})})},j=function(){var e=o(),t=e.restartGame,n=e.isWon,r=e.openMenu;return(0,l.jsx)(y,{isOpen:n,type:"GAME_WON",children:(0,l.jsxs)("div",{className:"game-won-notification",children:[(0,l.jsx)("p",{className:"game-won-notification__message",children:"Game Won!"}),(0,l.jsxs)("div",{className:"game-won-notification__buttons-wrapper",children:[(0,l.jsx)(d,{onClick:t,children:"Another game ?"}),(0,l.jsx)(d,{onClick:r,children:"Back to menu"})]})]})})},w=n.p+"static/media/logo.6d4e65e985aa58324b21.png",b=function(){return(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("img",{src:w,alt:"Millionaires Logo"})})},_=n(885),N=function(e){var t=e.list,n=e.onChange,i=e.value,o=(0,r.useRef)(null),s=(0,r.useState)(!1),d=(0,_.Z)(s,2),f=d[0],h=d[1],v=(0,r.useState)(t.find((function(e){return e.value===i}))||t[0]),m=(0,_.Z)(v,2),p=m[0],x=m[1],y=a({soundSrc:u}).play,g=a({soundSrc:c}).play;(0,r.useEffect)((function(){var e=function(e){o.current&&!o.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]);var j=function(e){y(),x(e),n(e)};return(0,l.jsxs)("button",{className:"dropdown ".concat(f?"dropdown--list-open":""),onClick:function(){y(),h((function(e){return!e}))},ref:o,onMouseEnter:g,onFocus:g,children:[(0,l.jsx)("div",{className:"dropdown__header",children:p.name}),f&&(0,l.jsx)("div",{className:"dropdown__list",children:(0,l.jsx)("ul",{children:t.map((function(e){return(0,l.jsx)("li",{className:"dropdown__list-element",onClick:function(){return j(e)},onMouseEnter:g,tabIndex:0,onKeyDown:function(t){return"Enter"===t.key&&j(e)},children:e.name},e.value)}))})})]})},k=function(){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",viewBox:"0 0 20 24",children:[(0,l.jsx)("polygon",{points:"3 9 9 9 13 5 13 19 9 15 3 15",fill:"currentColor"}),(0,l.jsx)("path",{d:"M16 8.5a5 5 0 0 1 0 7",stroke:"currentColor"})]})},C=function(){return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round",viewBox:"0 0 20 24",children:[(0,l.jsx)("polygon",{points:"3 9 9 9 13 5 13 19 9 15 3 15",fill:"currentColor"}),(0,l.jsx)("line",{x1:"18",y1:"22",stroke:"#000000",strokeWidth:"2.5"})]})},O=function(){var e=o(),t=e.gameStarted,n=e.startGame,r=e.setCategory,i=e.category,a=e.isSoundOn,c=e.setIsSoundOn,u=Object.entries(s.v.questionCategories).map((function(e){var t=e[0];return{name:e[1],value:t}}));return(0,l.jsxs)("div",{className:"dashboard ".concat(t?"dashboard--hidden":""),children:[(0,l.jsx)(d,{className:"dashboard__toggle-sound-btn",onClick:function(){return c((function(e){return!e}))},children:a?(0,l.jsx)(k,{}):(0,l.jsx)(C,{})}),(0,l.jsx)(b,{}),(0,l.jsx)("header",{className:"dashboard__welcome-msg",children:"Welcome to Millionaires!"}),(0,l.jsx)("span",{className:"dashboard__choose-category-msg",children:"Choose questions category and play!"}),(0,l.jsx)(N,{list:u,onChange:function(e){var t=e.value;r(t)},value:i}),(0,l.jsx)(d,{className:"dashboard__start-btn",onClick:function(){return n(i)},children:"Start game"})]})},E=function(e){var t=e.children,n=e.className,r=e.tileTag,i=void 0===r?"div":r,o=e.isButton,s=void 0!==o&&o,a=e.onClick,c=void 0===a?void 0:a,u=e.disabled,f=i,h=function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"tile__triangle tile__triangle--left"}),(0,l.jsx)("div",{className:"tile__triangle tile__triangle--right"}),(0,l.jsx)("div",{className:"tile__children-wrapper",children:t})]})};return(0,l.jsxs)(f,{className:"tile ".concat(n),children:[s&&c?(0,l.jsx)(d,{className:"tile__inner",onClick:c,disabled:u,children:h()}):(0,l.jsx)("div",{className:"tile__inner",children:h()}),(0,l.jsx)("div",{className:"tile__line-break-through"})]})},S=function(e,t){return Math.round(9*Math.random()+1)-Math.round(9*Math.random()+1)},L=function(e,t){return e.letter.localeCompare(t.letter)},F=function(e){if(Number(e)/1e3<1)return e;var t=e.toString().split("").reverse();return t.map((function(e,n){return(n+1)%3===0&&n!==t.length-1?"".concat(e,"."):e})).join("").split("").reverse()},P=function(e){var t,n=e.question,r=(t=n,(new DOMParser).parseFromString(t,"text/html").documentElement.textContent);return(0,l.jsx)("div",{className:"question-container",children:(0,l.jsx)(E,{className:"question",tileTag:"div",children:(0,l.jsx)("span",{className:"question__content",children:r})})})},I=n(907);var T=n(181);function A(e){return function(e){if(Array.isArray(e))return(0,I.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,T.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M,q,G="",D="single-answer--pending",R="single-answer--correct",W="single-answer--incorrect",Z="single-answer--disabled",B="DEFAULT",Y="PENDING",U="CORRECT",Q="INCORRECT",H=function(e){var t=e.answer,n=e.isDisabled,i=(0,r.useState)(B),a=(0,_.Z)(i,2),c=a[0],u=a[1],d=o(),f=d.isOver,h=d.setIsGameOver,v=d.questionNumber,m=d.setQuestionNumber,p=d.setIsGameWon,x=d.animateAnswers,y=o().setIsPendingAnswer,g=function(){t.isCorrect?(setTimeout(j,2e3),u(U)):(u(Q),null===h||void 0===h||h(!0),y(!1))},j=function(){s.v.gameRules.questionsCount===v?p(!0):m((function(e){return++e})),y(!1)};return(0,l.jsx)(E,{className:"single-answer ".concat(function(){if(f&&t.isCorrect)return R;if(t.disabled)return Z;switch(c){case U:return R;case Q:return W;case Y:return D;default:return G}}()," ").concat(x?"single-answer--animated":""),tileTag:"li",isButton:!0,onClick:function(){n||(y(!0),u(Y),setTimeout(g,2e3))},disabled:n||x,children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"single-answer__letter",children:[t.letter,":"]}),(0,l.jsx)("p",{className:"single-answer__content",children:t.content})]})})},J=function(e){var t=e.answers,n=o().isPendingAnswer,i=(0,r.useMemo)((function(){return A(t.sort(L))}),[t]);return(0,l.jsx)("ul",{className:"answers",children:i.map((function(e,t){return(0,l.jsx)(H,{answer:e,isDisabled:n||e.disabled},"".concat(e.content,"-").concat(t))}))})},K=function(){var e=o(),t=e.questions,n=e.questionNumber,r=null===t||void 0===t?void 0:t[n];return(0,l.jsxs)("section",{className:"answers-container",children:[(0,l.jsx)(b,{}),r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(P,{question:null===r||void 0===r?void 0:r.question}),(0,l.jsx)(J,{answers:null===r||void 0===r?void 0:r.answers})]})]})},V=function(){return(0,l.jsxs)("svg",{width:"64",height:"48",viewBox:"0 0 64 48",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"8"}),(0,l.jsx)("path",{d:"M4 32 v-5 c0-4 16-4 16 0 v5"}),(0,l.jsx)("circle",{cx:"52",cy:"12",r:"8"}),(0,l.jsx)("path",{d:"M44 32 v-5 c0-4 16-4 16 0 v5"}),(0,l.jsx)("circle",{cx:"32",cy:"20",r:"10"}),(0,l.jsx)("path",{d:"M22 44 v-6 c0-5 20-6 20 0 v7"})]})},z=function(e){var t=e.className,n=e.children,r=void 0===n?(0,l.jsx)(l.Fragment,{}):n,i=e.type,s=e.disableNotification,a=e.onClick,c=e.icon,u=(0,x.l)(),f=u.notificationStates,h=u.setNotificationStates,m=o().isPendingAnswer,g=null===f||void 0===f?void 0:f[i];return(0,l.jsxs)("div",{className:"lifebuoy ".concat(t," ").concat(null!==g&&void 0!==g&&g.isUsed?"lifebuoy--used":""),children:[(0,l.jsx)(d,{onClick:function(){h((function(e){return p(p({},e),{},v({},i,{isOpen:!s,isUsed:!0}))})),null===a||void 0===a||a()},tabIndex:null!==g&&void 0!==g&&g.isUsed?-1:0,disabled:(null===g||void 0===g?void 0:g.isUsed)||m,children:c}),(0,l.jsx)(y,{isOpen:null===g||void 0===g?void 0:g.isOpen,type:i,children:r})]})},X=function(){return Math.round(100*Math.random())},$=function(e,t){return e.isCorrect&&!t.isCorrect?-1:!e.isCorrect&&t.isCorrect?1:0},ee=function(e,t){var n=e,r=t>100/3;return r&&0===e&&(n+=1),r&&1===e&&(n-=1),n},te=function(e){var t=function(){for(var e=[];e.length<3;){var t=X();e.reduce((function(e,t){return e+t}),0)+t<=100&&e.push(t)}var n=100-e.reduce((function(e,t){return e+t}),0);return e.push(n),e}(),n=[],r=null===e||void 0===e?void 0:e.answers.sort($),i=t.sort((function(e,t){return t-e})),o=X();for(var s in r){var a=Number(s),c=r[a],u={percent:i[ee(a,o)],letter:null===c||void 0===c?void 0:c.letter};n.push(u)}return n},ne=n(812),re=function(e){var t=e.charts,n=(0,ne.Y)({delay:500,value:!0}),r=(0,_.Z)(n,1)[0];return(0,l.jsxs)("div",{className:"chart",children:[(0,l.jsx)("div",{className:"chart__grid",children:Array.from({length:11}).map((function(e,t){return(0,l.jsx)("div",{className:"chart__grid-element"},t)}))}),(0,l.jsx)("ul",{className:"chart__list",children:t.sort(L).map((function(e){return function(e){return(0,l.jsxs)("li",{className:"chart__list-element",children:[(0,l.jsx)("p",{className:"chart__percent",children:r?"".concat(e.percent,"%"):""}),(0,l.jsx)("div",{className:"chart__column",style:r?{height:"".concat(e.percent/10,"rem")}:{}}),(0,l.jsx)("p",{className:"chart__letter",children:e.letter})]},e.letter)}(e)}))})]})},ie=function(){var e=o(),t=e.questions,n=e.questionNumber,r=(0,x.l)().setNotificationStates,i=te(t[n]);return(0,l.jsxs)("div",{className:"ask-audience__notification",children:[(0,l.jsx)(re,{charts:i}),(0,l.jsx)(d,{onClick:function(){r((function(e){return p(p({},e),{},v({},de.askAudience,p(p({},e[de.askAudience]),{},{isOpen:!1})))}))},children:"Close"})]})},oe=function(){return(0,l.jsx)(z,{className:"ask-audience",type:de.askAudience,icon:(0,l.jsx)(V,{}),children:(0,l.jsx)(ie,{})})},se=function(){return(0,l.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67 2 2 0 0 1 2-2h3a2 2 0 0 1 2 1.72 12.05 12.05 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L7.09 9.91a16 16 0 0 0 6 6l1.06-1.06a2 2 0 0 1 2.11-.45 12.05 12.05 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})},ae=function(e){if(e)return function(e,t){if(e){for(var n=s.v.answerLetters,r=t.filter((function(e){return!e.isCorrect&&!e.disabled})),i=[e.letter],o=0;o<n.length;o++)i[0]!==n[o]&&1===i.length&&i.push(n[o]);var a=i.sort(S),c="It must be ".concat(e.letter," !"),u="I think it may be ".concat(a[0]," but ").concat(a[1]," is also very possible.");if(1===r.length)return c;var l=[u,"I have no idea...",c];return l.sort(S),l[0]}}(e.answers.find((function(e){return e.isCorrect})),e.answers)},ce=function(){var e=o(),t=e.questions,n=e.questionNumber,r=ae(t[n]),i=(0,ne.Y)({delay:2e3,value:!0}),s=(0,_.Z)(i,1)[0],a=null===r||void 0===r?void 0:r.split(" "),c=(0,x.l)().setNotificationStates;return(0,l.jsxs)("div",{className:"phone-friend__notification ".concat(s?"phone-friend__notification--popup":""),children:[(0,l.jsxs)("div",{className:"phone-friend__message",children:[(0,l.jsx)("span",{className:"phone-friend__message-pre",children:"Friend:"})," ",null===a||void 0===a?void 0:a.map((function(e,t){return(0,l.jsx)("span",{className:"phone-friend__message-word",style:{animationDelay:"".concat(400*t,"ms")},children:" ".concat(e," ")},e)}))]}),(0,l.jsx)("div",{className:"phone-friend__phone-animated-icon",children:(0,l.jsx)(se,{})}),(0,l.jsx)(d,{onClick:function(){c((function(e){return p(p({},e),{},v({},de.phoneFriend,p(p({},e[de.phoneFriend]),{},{isOpen:!1})))}))},children:"Close"})]})},ue=function(){return(0,l.jsx)(z,{className:"phone-friend",type:de.phoneFriend,icon:(0,l.jsx)(se,{}),children:(0,l.jsx)(ce,{})})},le=function(){var e=o(),t=e.setQuestions,n=e.questions,r=e.questionNumber,i=e.setAnimateAnswers;return(0,l.jsx)(z,{className:"fifty-fifty",type:de.fiftyFifty,disableNotification:!0,onClick:function(){if(t){i(!0);var e=JSON.parse(JSON.stringify(n)),o=e[r].answers,s=o.findIndex((function(e){return e.isCorrect}));o.map((function(e,t){return t})).filter((function(e){return e!==s})).sort(S).slice(0,2).forEach((function(t){e[r].answers[t].disabled=!0})),setTimeout((function(){i(!1),t(e)}),4e3)}}})},de={phoneFriend:"PHONE_FRIEND",fiftyFifty:"FIFTY_FIFTY",askAudience:"ASK_AUDIENCE"},fe=function(){return(0,l.jsx)("div",{className:"lifebuoys",children:(0,l.jsxs)("div",{className:"lifebuoys__list",children:[(0,l.jsx)(oe,{}),(0,l.jsx)(ue,{}),(0,l.jsx)(le,{})]})})},he=["100","200","300","500","1000","2000","4000","8000","16000","32000","64000","125000","250000","500000","1000000"],ve=function(e){var t=e.rewardStake,n=e.index,r=o().questionNumber,i=n+1,s=1===i||i%5===0;return(0,l.jsx)("li",{className:"reward ".concat(s?"reward--white-theme":""," ").concat(function(e){var t=r+1;return e===t?"reward--current-stake":e<t?"reward--guaranteed-stake":""}(i)),children:(0,l.jsxs)("div",{className:"reward__inner",children:[(0,l.jsx)("span",{className:"reward__number",children:i}),(0,l.jsx)("span",{className:"reward__diamond"}),(0,l.jsx)("span",{className:"reward__price",children:F(t)}),(0,l.jsxs)("span",{className:"reward__currency",children:[" ","USD"]})]})},t)},me=function(){return(0,l.jsx)("div",{className:"rewards",children:(0,l.jsx)("ol",{className:"rewards__list",children:he.map((function(e,t){return(0,l.jsx)(ve,{rewardStake:e,index:t},t)}))})})},pe=function(){return(0,l.jsxs)("section",{className:"rewards-container",children:[(0,l.jsx)(fe,{}),(0,l.jsx)(me,{})]})},xe=function(e){var t=e.message,n=e.isErrorToast,r=(0,ne.Y)({delay:300,value:!0}),i=(0,_.Z)(r,2),o=i[0],s=i[1],a=(0,ne.Y)({delay:5e3,value:!0}),c=(0,_.Z)(a,1)[0];return(0,l.jsxs)("div",{className:"toast ".concat(o&&!c?"toast--slide-in":""," ").concat(n?"toast--error":"toast--success"),children:[(0,l.jsx)("p",{children:t}),(0,l.jsx)("button",{onClick:function(){s(!1)},children:"Close"})]})};function ye(){ye=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new F(r||[]);return i(s,"_invoke",{value:O(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",v="suspendedYield",m="executing",p="completed",x={};function y(){}function g(){}function j(){}var w={};u(w,s,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(P([])));_&&_!==n&&r.call(_,s)&&(w=_);var N=j.prototype=y.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,o,s,a){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==f(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function O(t,n,r){var i=h;return function(o,s){if(i===m)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===x)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=m;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?p:v,u.arg===x)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,x;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,x):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(f(t)+" is not iterable")}return g.prototype=j,i(N,"constructor",{value:j,configurable:!0}),i(j,"constructor",{value:g,configurable:!0}),g.displayName=u(j,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,u(e,c,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},k(C.prototype),u(C.prototype,a,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(N),u(N,c,"Generator"),u(N,s,(function(){return this})),u(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,x):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),x}},t}function ge(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){ge(o,r,i,s,a,"next",e)}function a(e){ge(o,r,i,s,a,"throw",e)}s(void 0)}))}}var we=function e(t){return(M=M||je(ye().mark((function t(n){var r,i,o,a,c,u,l,d,f,h,v;return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.retryDelay,i=void 0===r?3e3:r,o=n.maxRetries,a=void 0===o?5:o,c=n.attempt,u=void 0===c?1:c,l=n.category,d="https://opentdb.com/api.php?amount=15&type=multiple".concat(l?"&category=".concat(l):""),t.prev=2,t.next=5,fetch(d);case 5:if(429!==(f=t.sent).status){t.next=14;break}if(!(u<a)){t.next=13;break}return t.next=10,new Promise((function(e){return setTimeout(e,i)}));case 10:return t.abrupt("return",e({retryDelay:i,maxRetries:a,attempt:u+1,category:l}));case 13:throw new Error("Max retries reached for 429 error");case 14:if(f.ok){t.next=16;break}throw new Error("HTTP error! status: ".concat(f.status));case 16:return t.next=18,f.json();case 18:if((h=t.sent).results){t.next=21;break}throw new Error("No data results");case 21:return v=h.results.map((function(e){var t=s.v.answerLetters.sort(S);return{question:e.question,answers:[{content:e.correct_answer,isCorrect:!0,letter:t[0]}].concat(A(e.incorrect_answers.map((function(e,n){return{content:e,isCorrect:!1,letter:t[n+1]}}))))}})),t.abrupt("return",v);case 25:throw t.prev=25,t.t0=t.catch(2),t.t0;case 28:case"end":return t.stop()}}),t,null,[[2,25]])})))).apply(this,arguments)},be=function(){return(0,l.jsx)("div",{className:"preloader",children:(0,l.jsx)("div",{className:"preloader__inner"})})},_e=function(){var e=(0,r.useState)(!1),t=(0,_.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)(null),a=(0,_.Z)(s,2),c=a[0],u=a[1],f=o(),h=f.setQuestions,v=f.isOver,m=f.isWon,p=f.category,x=f.setGameStarted,y=f.restartGame,g=(0,ne.Y)({delay:2e3,value:!0}),j=(0,_.Z)(g,1)[0];(0,r.useEffect)((function(){v||m||function(e){(q=q||je(ye().mark((function e(t){var n,r,i,o,s;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setIsFetching,r=t.setData,i=t.setError,o=t.category,n(!0),e.prev=2,e.next=5,we({category:o});case 5:(s=e.sent)&&s.length>0?(null===r||void 0===r||r(s),i(null)):i("No data received"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),i("Failed to load questions.");case 13:return e.prev=13,n(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))).apply(this,arguments)}({setError:u,setData:h,setIsFetching:i,category:p})}),[v,m,p,h]);return(0,l.jsxs)("div",{className:"game-area",children:[n||!j?(0,l.jsx)(be,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{className:"game-area__back-btn",onClick:function(){y(),x(!1)},children:"Back to menu"}),(0,l.jsx)(K,{}),(0,l.jsx)(pe,{})]}),c&&(0,l.jsx)(xe,{isErrorToast:!0,message:c})]})},Ne=function(){var e=o(),t=e.gameStartedDelay,n=e.gameStarted;return(0,l.jsxs)("div",{className:"millionaires",children:[(0,l.jsx)(O,{}),(t||n)&&(0,l.jsx)(_e,{}),(0,l.jsx)(g,{}),(0,l.jsx)(j,{})]})}}}]);
//# sourceMappingURL=500.7d96bc1b.chunk.js.map